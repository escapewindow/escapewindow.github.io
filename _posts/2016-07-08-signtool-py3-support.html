---
layout: post
title: signtool py3 support
---

Mozilla RelEng uses a tool called <a href="https://github.com/mozilla/build-tools/blob/master/release/signing/signtool.py">signtool</a> for its signing.  Historically, this has been part of the <a href="https://hg.mozilla.org/build/tools">build/tools repo</a>, which we've been wanting to move away from.<br /><br />I recently <a href="https://github.com/escapewindow/build-tools/tree/py3">ported build-tools to py3</a>, essentially porting the libraries and unittests but ignoring most of the scripts.  <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1279890">Signing in a py3 scriptworker</a> was the impetus behind this.  However, after the port, I noticed signtool stopped working; I suspect I had hacked my virtualenv to debug, and something about that got it working in py3.<br /><br />After getting permission to hard fork signtool, I ported it to use <code>requests</code>, and refactored it a bit to make it a little easier to test.  There are still some overly complex functions and I only have 65% test coverage right now, but it's working in py3.<br /><br />The code is <a href="https://github.com/escapewindow/signtool">here</a> and the latest package is <a href="https://pypi.python.org/pypi/signtool">here</a>.<br /><br /><img src="http://www.dreamwidth.org/tools/commentcount?user=escapewindow&ditemid=247717" width="30" height="12" alt="comment count unavailable" style="vertical-align: middle;"/> comments
