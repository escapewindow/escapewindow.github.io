---
layout: post
title: 'hg-git part x: relbranches and non-fastforward commits'
---

<p>
(Resuming the shorter blog posts about features in the new vcs sync process...)
</p><p>
After I enabled beagle conversions in cron, I started getting some intermittent non-fastforward emails.  When I poked around, I noticed that some changes had landed on <code>GECKO90_2011121217_RELBRANCH</code> on mozilla-release, but not mozilla-beta.  When syncing mozilla-release, the tip of this branch stayed in place; when syncing mozilla-beta, the tip of this branch was behind several commits, resulting in a non-fastforward push.  We'll continue to see problems like this, if we sync branches with shared names, across mercurial repos, which contain different histories, but we're good for now.
</p><p>
I was able to solve this by <a href="https://wiki.mozilla.org/ReleaseEngineering/VCSSync/HowTo#How_to_deal_with_GECKO90_2011121217_RELBRANCH">transplanting some changesets</a>, and I recorded my actions for this and one other branch <a href="https://wiki.mozilla.org/ReleaseEngineering/VCSSync/History#Relbranch_issues">here</a>.
</p><p>
(This is more a blog post about manual investigation+actions taken after automated emails highlighted the issue, rather than a feature of the new vcs sync process, but the emails themselves were key...)
</p><p>
<a href="http://hearsum.ca/blog/">:bhearsum</a> filed <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=924024">filed bug 924024 (kill relbranches)</a>, which should help reduce the frequency of this happening.
</p><br /><br /><img src="http://www.dreamwidth.org/tools/commentcount?user=escapewindow&ditemid=241453" width="30" height="12" alt="comment count unavailable" style="vertical-align: middle;"/> comments
